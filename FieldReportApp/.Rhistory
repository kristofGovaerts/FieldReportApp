#cns <- colnames(df2)[5:22]
#df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:9]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
#df2 <- read_excel('D:/specim_catalogs/C3/MSAM_output.xlsx')
#df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
#cns <- colnames(df2)[5:22]
#df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:9]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:22]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df2, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
colnames(df2)
cns <- colnames(df2)[5:13]
l <- list()
for (c in cns) {
p <- ggline(data=df2, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
l <- list()
for (c in cns) {
p <- ggline(data=df2, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
len(cns)
length(cns)
cns
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:9]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
#df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
subset(df, time==29)
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$NVY <- rescale(df$VY2) -rescale(df$NS)
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
df
cns
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
#df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
table(df[c('time', 'date')])
unique(df[c('time', 'date')])
sort(unique(df[c('time', 'date')]))
unique(df[c('time', 'date')])
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
dns
cns
len(cns)
df
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
cns <- colnames(df)[5:13]
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
#cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
cns
df.columns
colnames(df)
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
cns <- colnames(df)[5:length(colnames(df))]
cns
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
cns <- colnames(df)[5:length(colnames(df))]
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
#cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
cns
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
cns <- colnames(df)[5:length(colnames(df))]
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
#cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
df <- read.csv2(file.choose(), sep=',')
df.columns
colnames(df)
df$date <- as.Date(df$day)
?as.Date
df$date <- as.Date(df$day, format=%Y%m%d)
df$date <- as.Date(df$day, format='%Y%m%d')
df$date <- as.Date(df$day, format="%Y%m%d")
df$date <- as.Date(as.character(df$day), format="%Y%m%d")
df$date
month(df$date)
Month(df$date)
as.numeric(format(df$date,'%m'))
df$month <- as.numeric(format(df$date,'%m'))
df$year <- as.numeric(format(df$date,'%Y'))
df$year
library(ggplot2)
dfs <- subset(data, fieldcode %in% c('MEZ101', 'ARC001'))
dfs <- subset(data, 'fieldcode' %in% c('MEZ101', 'ARC001'))
?subset
dfs <-s ubset(data, fieldcode == 'MEZ101')
dfs <- subset(data, fieldcode == 'MEZ101')
dfs <- subset(df, 'fieldcode' %in% c('MEZ101', 'ARC001'))
df$fieldcode
dfs <- subset(df, fieldcode %in% c('MEZ101', 'ARC001'))
dfs
dfs <- subset(df, fieldcode == 'MEZ101')
df$fieldcode.unique
df$fieldcode.distinct()
df$fieldcode.distinct
unique(df$fieldcode)
dfs <- subset(df, fieldcode %in% c('NOP101', 'MEZ101'))
dfs
unique(dfs$fieldcode)
dfs <- subset(df, fieldcode %in% c('NOP101', 'MEZ102'))
unique(dfs$fieldcode)
ggplot(data=dfs, aes(x=date, y=temperature_avg, color=year)) + geom_line()+ facet_wrap(~fieldcode)
df$date
ggplot(data=dfs, aes(x=month, y=temperature_avg, color=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(month) %>% summarize_at(temperature_avg, mean)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
dfs %>% dplyr::group_by(month) %>% summarize_at(temperature_avg, mean)
dfs %>% dplyr::group_by(month) %>% summarize_at('temperature_avg', mean)
dfs %>% dplyr::group_by(month) %>% summarize_at(c('temperature_avg'), mean)
dfs %>% dplyr::group_by(year, month) %>% summarize_at(c('temperature_avg'), mean)
View(dfs)
dfs$temperature_avg * 5
as.numeric(dfs$temperature_avg)
dfs$temperature_avg <- as.numeric(dfs$temperature_avg)
dfs %>% dplyr::group_by(year, month) %>% summarize_at(c('temperature_avg'), mean)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_avg'), mean)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_avg'), mean) %>% ggplot(, aes(x=month, y=temperature_avg, color=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_avg'), mean) %>% ggplot(aes(x=month, y=temperature_avg, color=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_avg'), mean) %>% ggplot(aes(x=month, y=temperature_avg, color=year)) + geom_jittere()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_avg'), mean) %>% ggplot(aes(x=month, y=temperature_avg, color=year)) + geom_jitter()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_avg'), mean) -> summd
summd
View(summd)
12*21*2
ggplot(data=summd, aes(x=month, y=temperature_avg, color=year)) + geom_jitter()+ facet_wrap(~fieldcode)
ggplot(data=summd, aes(x=month, y=temperature_avg, color=year)) + geom_line()+ facet_wrap(~fieldcode)
ggplot(data=summd, aes(x=month, y=temperature_avg, color=year, group=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs
dfs$precipitation <- as.numeric(dfs$precipitation)
dfs$radiation <- as.numeric(dfs$radiation)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('radiation'), mean) %>% ggplot(aes(x=month, y=radiation, color=year, group=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('precipitation'), mean) %>% ggplot(aes(x=month, y=radiation, color=year, group=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('precipitation'), mean) %>% ggplot(aes(x=month, y=precipitation, color=year, group=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_max'), mean) %>% ggplot(aes(x=month, y=temperature_max, color=year, group=year)) + geom_line()+ facet_wrap(~fieldcode)
dfs$temperature_max <- as.numeric(dfs$temperature_max)
dfs %>% dplyr::group_by(fieldcode, year, month) %>% summarize_at(c('temperature_max'), mean) %>% ggplot(aes(x=month, y=temperature_max, color=year, group=year)) + geom_line()+ facet_wrap(~fieldcode)
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggpubr)
library(readxl)
library(scales)
library(lme4)
library(lmerTest)
df <- read_excel('D:/specim_catalogs/C1/custom_indices.xlsx')
df$VYhom <- df$VY2_mean/df$homogeneity
df$VYdis <- df$VY2_mean/df$dissimilarity
#df$NVY <- rescale(df$VY2) -rescale(df$NS)
cns <- colnames(df)[5:length(colnames(df))]
df$time <- as.numeric(round(difftime(df$date, '2022-09-01', units='days')))
df <- subset(df, time != 29) #lighting was not so good at tp 29
#df <- subset(df, plantid %in% c(4,5,13,14))
df2 <- read_excel('D:/specim_catalogs/C3/custom_indices.xlsx')
df2$VYhom <- df2$VY2_mean/df2$homogeneity
df2$time <- as.numeric(round(difftime(df2$date, '2022-10-05', units='days')))
#cns <- colnames(df2)[5:13]
df2 <- subset(df2, time < 60)
l <- list()
for (c in cns) {
p <- ggline(data=df, x='time', y=c, add = c("median_iqr"),
color = "group", palette = "jco", numeric.x.axis=T)
print(p)
l <- append(l, list(p))}
l <- list()
for (c in cns) {
p <- ggplot(data=df, aes_string(x='time', y=c, group='plantid')) + geom_line(aes(color=as.character(plantid))) + facet_wrap(~group)
print(p)
l <- append(l, list(p))}
for (c in cns) {
form <- as.formula(paste(c, '~', 'group + as.character(time) + (1|plantid)'))
print(form)
print(summary(lmer(form, data=df)))
}
shiny::runApp('GitHub/FieldReportApp/FieldReportApp')
runApp()
runApp('GitHub/FieldReportApp/FieldReportApp')
library(openxlsx)
plot_file <- 'D:/transfer/XY_coordinates/BAU101-1-plantcount_all.csv'
coord_file <- 'D:/transfer/XY_coordinates/e-BAU101.xlsx'
plots <- read.csv2(plot_file)
coords <- read_excel(coord_file)
plot_file
plot_file <- 'D:/transfer/plantcounts/BAU101-1-plantcount_all.csv'
coord_file <- 'D:/transfer/XY_coordinates/e-BAU101.xlsx'
plots <- read.csv2(plot_file)
coords <- read_excel(coord_file)
plots
plots <- read.csv(plot_file)
coords <- read_excel(coord_file)
plots
plots <- read.csv2(plot_file, sep='\t')
coords <- read_excel(coord_file)
plots
coords
plots <- read.csv2(plot_file, sep='\t')
coords <- read_excel(coord_file)
colnames(coords) <- c('series', 'trial', 'obj', 'Y, 'X', 'seedname)
colnames(coords) <- c('series', 'trial', 'obj', 'Y', 'X', 'seedname')
coords
library(dplyr)
merge
plots_r <- merge(coords, plots, on=c('X', 'Y'))
plots_r
colnames(plots)
plots$X
View(plots)
colnames(plots_r)
plots_r %>%
dplyr::group_by(series, seedname) %>%
dplyr::summarize_at(c(plantcount_count plantcount_area plantcount_count_m2), mean)
>%>
%>%
plots_r %>%
dplyr::group_by(series, seedname)
plots_r %>%
dplyr::group_by(series, seedname) %>%
dplyr::summarize_at(c(plantcount_count, plantcount_area, plantcount_count_m2), mean)
plots_r %>%
dplyr::group_by(series, seedname) %>%
dplyr::summarize_at(c('plantcount_count', 'plantcount_area', 'plantcount_count_m2'), mean)
View(plots_r)
plots_r$plantcount_area * 5
plots <- read.csv(plot_file, sep='\t')
coords <- read_excel(coord_file)
colnames(coords) <- c('series', 'trial', 'obj', 'Y', 'X', 'seedname')
plots_r <- merge(coords, plots, on=c('X', 'Y'))
plots_r %>%
dplyr::group_by(series, seedname) %>%
dplyr::summarize_at(c('plantcount_count', 'plantcount_area', 'plantcount_count_m2'), mean)
runApp('GitHub/FieldReportApp/FieldReportApp')
runApp()
runApp('GitHub/FieldReportApp/FieldReportApp')
